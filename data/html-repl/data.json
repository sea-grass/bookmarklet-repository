{"name":"html-repl","pre":"<pre><code class='hljs'><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">debounce</span> = (<span class=\"hljs-params\">interval, callback</span>) =&gt; {\n    <span class=\"hljs-keyword\">let</span> timeout;\n\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n        <span class=\"hljs-keyword\">if</span> (timeout) {\n            <span class=\"hljs-built_in\">clearTimeout</span>(timeout);\n        }\n        timeout = <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> {\n            <span class=\"hljs-title function_\">callback</span>(...<span class=\"hljs-variable language_\">arguments</span>);\n            timeout = <span class=\"hljs-literal\">null</span>;\n        }, interval);\n    };\n};\n\n<span class=\"hljs-keyword\">const</span> el = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">&#x27;div&#x27;</span>);\nel.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">position</span> = <span class=\"hljs-string\">&#x27;absolute&#x27;</span>;\nel.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">top</span> = <span class=\"hljs-number\">0</span>;\nel.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">left</span> = <span class=\"hljs-number\">0</span>;\nel.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span> = <span class=\"hljs-string\">&#x27;100vw&#x27;</span>;\nel.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">height</span> = <span class=\"hljs-string\">&#x27;100vh&#x27;</span>;\nel.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">background</span> = <span class=\"hljs-string\">&#x27;white&#x27;</span>;\n<span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-property\">body</span>.<span class=\"hljs-title function_\">appendChild</span>(el);\n\n<span class=\"hljs-keyword\">const</span> close = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">&#x27;button&#x27;</span>);\nclose.<span class=\"hljs-property\">innerText</span> = <span class=\"hljs-string\">&#x27;close&#x27;</span>;\nclose.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;click&#x27;</span>, <span class=\"hljs-function\">() =&gt;</span> el.<span class=\"hljs-title function_\">remove</span>());\n\n<span class=\"hljs-keyword\">const</span> title = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">&#x27;h1&#x27;</span>);\ntitle.<span class=\"hljs-property\">innerText</span> = <span class=\"hljs-string\">&#x27;html-repl&#x27;</span>;\ntitle.<span class=\"hljs-title function_\">appendChild</span>(close);\nel.<span class=\"hljs-title function_\">appendChild</span>(title);\n\n<span class=\"hljs-keyword\">const</span> layout = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">&#x27;div&#x27;</span>);\nlayout.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">display</span> = <span class=\"hljs-string\">&#x27;flex&#x27;</span>;\nlayout.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">flexDirection</span> = <span class=\"hljs-string\">&#x27;column&#x27;</span>;\nel.<span class=\"hljs-title function_\">appendChild</span>(layout);\n\n<span class=\"hljs-keyword\">const</span> previewer = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">&#x27;div&#x27;</span>);\n\n<span class=\"hljs-keyword\">const</span> editor = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">&#x27;textarea&#x27;</span>);\n<span class=\"hljs-keyword\">const</span> changeListener = <span class=\"hljs-title function_\">debounce</span>(<span class=\"hljs-number\">300</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">{\n    target: {\n        value: html\n    }\n}</span>) =&gt;</span> {\n    previewer.<span class=\"hljs-property\">innerHTML</span> = html;\n});\neditor.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;input&#x27;</span>, changeListener);\neditor.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;change&#x27;</span>, changeListener);\neditor.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">margin</span> = <span class=\"hljs-string\">&#x27;1em 0&#x27;</span>;\neditor.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">padding</span> = <span class=\"hljs-string\">&#x27;1em&#x27;</span>;\neditor.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">border</span> = <span class=\"hljs-string\">&#x27;none&#x27;</span>;\neditor.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">fontSize</span> = <span class=\"hljs-string\">&#x27;20px&#x27;</span>;\neditor.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">background</span> = <span class=\"hljs-string\">&#x27;#eee&#x27;</span>;\neditor.<span class=\"hljs-property\">placeholder</span> = <span class=\"hljs-string\">&#x27;&lt;h1&gt;Hello world&lt;/h1&gt;&#x27;</span>;\n\nlayout.<span class=\"hljs-title function_\">appendChild</span>(editor);\nlayout.<span class=\"hljs-title function_\">appendChild</span>(previewer);</code></pre>","url":"javascript:(function(){const debounce=(e,t)=>{let l;return function(){l&&clearTimeout(l),l=setTimeout((()=>{t(...arguments),l=null}),e)}},el=document.createElement(\"div\");el.style.position=\"absolute\",el.style.top=0,el.style.left=0,el.style.width=\"100vw\",el.style.height=\"100vh\",el.style.background=\"white\",document.body.appendChild(el);const close=document.createElement(\"button\");close.innerText=\"close\",close.addEventListener(\"click\",(()=>el.remove()));const title=document.createElement(\"h1\");title.innerText=\"html-repl\",title.appendChild(close),el.appendChild(title);const layout=document.createElement(\"div\");layout.style.display=\"flex\",layout.style.flexDirection=\"column\",el.appendChild(layout);const previewer=document.createElement(\"div\"),editor=document.createElement(\"textarea\"),changeListener=debounce(300,(({target:{value:e}})=>{previewer.innerHTML=e}));editor.addEventListener(\"input\",changeListener),editor.addEventListener(\"change\",changeListener),editor.style.margin=\"1em 0\",editor.style.padding=\"1em\",editor.style.border=\"none\",editor.style.fontSize=\"20px\",editor.style.background=\"#eee\",editor.placeholder=\"<h1>Hello world</h1>\",layout.appendChild(editor),layout.appendChild(previewer);}());"}