{"bookmarklet":{"name":"html-repl","pre":"<pre><code class='hljs'><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">debounce</span> = (<span class=\"hljs-params\">interval, callback</span>) =&gt; {\n    <span class=\"hljs-keyword\">let</span> timeout;\n\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n        <span class=\"hljs-keyword\">if</span> (timeout) {\n            <span class=\"hljs-built_in\">clearTimeout</span>(timeout);\n        }\n        timeout = <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> {\n            <span class=\"hljs-title function_\">callback</span>(...<span class=\"hljs-variable language_\">arguments</span>);\n            timeout = <span class=\"hljs-literal\">null</span>;\n        }, interval);\n    };\n};\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">cel</span> = (<span class=\"hljs-params\">nodeName, styles = {}</span>) =&gt; {\n    <span class=\"hljs-keyword\">const</span> el = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(nodeName);\n    <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">assign</span>(el.<span class=\"hljs-property\">style</span>, styles);\n    <span class=\"hljs-keyword\">return</span> el;\n};\n\n<span class=\"hljs-keyword\">const</span> el = <span class=\"hljs-title function_\">cel</span>(<span class=\"hljs-string\">&#x27;div&#x27;</span>, {\n    <span class=\"hljs-attr\">position</span>: <span class=\"hljs-string\">&#x27;absolute&#x27;</span>,\n    <span class=\"hljs-attr\">top</span>: <span class=\"hljs-number\">0</span>,\n    <span class=\"hljs-attr\">left</span>: <span class=\"hljs-number\">0</span>,\n    <span class=\"hljs-attr\">width</span>: <span class=\"hljs-string\">&#x27;110vw&#x27;</span>,\n    <span class=\"hljs-attr\">height</span>: <span class=\"hljs-string\">&#x27;100vh&#x27;</span>,\n    <span class=\"hljs-attr\">background</span>: <span class=\"hljs-string\">&#x27;white&#x27;</span>,\n});\n<span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-property\">body</span>.<span class=\"hljs-title function_\">appendChild</span>(el);\n\n<span class=\"hljs-keyword\">const</span> close = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">&#x27;button&#x27;</span>);\nclose.<span class=\"hljs-property\">innerText</span> = <span class=\"hljs-string\">&#x27;close&#x27;</span>;\nclose.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;click&#x27;</span>, <span class=\"hljs-function\">() =&gt;</span> el.<span class=\"hljs-title function_\">remove</span>());\n\n<span class=\"hljs-keyword\">const</span> title = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">&#x27;h1&#x27;</span>);\ntitle.<span class=\"hljs-property\">innerText</span> = <span class=\"hljs-string\">&#x27;html-repl&#x27;</span>;\ntitle.<span class=\"hljs-title function_\">appendChild</span>(close);\nel.<span class=\"hljs-title function_\">appendChild</span>(title);\n\n<span class=\"hljs-keyword\">const</span> layout = <span class=\"hljs-title function_\">cel</span>(<span class=\"hljs-string\">&#x27;div&#x27;</span>, {\n    <span class=\"hljs-attr\">display</span>: <span class=\"hljs-string\">&#x27;flex&#x27;</span>,\n    <span class=\"hljs-attr\">flexDirection</span>: <span class=\"hljs-string\">&#x27;column&#x27;</span>,\n});\nel.<span class=\"hljs-title function_\">appendChild</span>(layout);\n\n<span class=\"hljs-keyword\">const</span> previewer = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">&#x27;div&#x27;</span>);\n\n<span class=\"hljs-keyword\">const</span> editor = <span class=\"hljs-title function_\">cel</span>(<span class=\"hljs-string\">&#x27;textarea&#x27;</span>, {\n    <span class=\"hljs-attr\">margin</span>: <span class=\"hljs-string\">&#x27;1em 0&#x27;</span>,\n    <span class=\"hljs-attr\">padding</span>: <span class=\"hljs-string\">&#x27;1em&#x27;</span>,\n    <span class=\"hljs-attr\">border</span>: <span class=\"hljs-string\">&#x27;none&#x27;</span>,\n    <span class=\"hljs-attr\">fontSize</span>: <span class=\"hljs-string\">&#x27;20px&#x27;</span>,\n    <span class=\"hljs-attr\">background</span>: <span class=\"hljs-string\">&#x27;#eee&#x27;</span>,\n});\n<span class=\"hljs-keyword\">const</span> changeListener = <span class=\"hljs-title function_\">debounce</span>(<span class=\"hljs-number\">300</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">{\n    target: {\n        value: html\n    }\n}</span>) =&gt;</span> {\n    previewer.<span class=\"hljs-property\">innerHTML</span> = html;\n});\neditor.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;input&#x27;</span>, changeListener);\neditor.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&#x27;change&#x27;</span>, changeListener);\neditor.<span class=\"hljs-property\">placeholder</span> = <span class=\"hljs-string\">&#x27;&lt;h1&gt;Hello world&lt;/h1&gt;&#x27;</span>;\n\nlayout.<span class=\"hljs-title function_\">appendChild</span>(editor);\nlayout.<span class=\"hljs-title function_\">appendChild</span>(previewer);</code></pre>","url":"javascript:(function(){const debounce=(e,t)=>{let n;return function(){n&&clearTimeout(n),n=setTimeout((()=>{t(...arguments),n=null}),e)}},cel=(e,t={})=>{const n=document.createElement(e);return Object.assign(n.style,t),n},el=cel(\"div\",{position:\"absolute\",top:0,left:0,width:\"110vw\",height:\"100vh\",background:\"white\"});document.body.appendChild(el);const close=document.createElement(\"button\");close.innerText=\"close\",close.addEventListener(\"click\",(()=>el.remove()));const title=document.createElement(\"h1\");title.innerText=\"html-repl\",title.appendChild(close),el.appendChild(title);const layout=cel(\"div\",{display:\"flex\",flexDirection:\"column\"});el.appendChild(layout);const previewer=document.createElement(\"div\"),editor=cel(\"textarea\",{margin:\"1em 0\",padding:\"1em\",border:\"none\",fontSize:\"20px\",background:\"#eee\"}),changeListener=debounce(300,(({target:{value:e}})=>{previewer.innerHTML=e}));editor.addEventListener(\"input\",changeListener),editor.addEventListener(\"change\",changeListener),editor.placeholder=\"<h1>Hello world</h1>\",layout.appendChild(editor),layout.appendChild(previewer);}());"}}